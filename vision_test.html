<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Pollinations Vision Test</title>
</head>

<body>
    <h1>Pollinations Vision Test</h1>
    <p>Test if Pollinations AI can see and describe an image (e.g. geometry).</p>

    <!-- A simple public image of a triangle for testing -->
    <img id="testImage"
        src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Regular_triangle.svg/220px-Regular_triangle.svg.png"
        crossorigin="anonymous" style="border: 2px solid #ccc;">

    <br><br>
    <button onclick="testVision()">Analyze Image</button>
    <div id="status"></div>
    <div id="result"></div>

    <script>
        async function testVision() {
            const statusDiv = document.getElementById('status');
            const resultDiv = document.getElementById('result');
            statusDiv.textContent = "Analyzing...";
            resultDiv.innerHTML = "";

            try {
                const response = await fetch('https://text.pollinations.ai/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        messages: [
                            {
                                role: 'user',
                                content: [
                                    { type: 'text', text: 'What shape is this? Describe the geometry.' },
                                    { type: 'image_url', image_url: { url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Regular_triangle.svg/220px-Regular_triangle.svg.png' } }
                                ]
                            }
                        ],
                        model: 'openai' // Trying standard model first
                    })
                });

                const text = await response.text();
                statusDiv.textContent = "Finished!";
                resultDiv.innerHTML = `<h3>Result:</h3><p>${text}</p>`;

            } catch (e) {
                statusDiv.textContent = "Error: " + e.message;
            }
        }
    </script>
</body>

</html>